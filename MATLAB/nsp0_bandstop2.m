function y = nsp0_bandstop2(x)
%NSP0_BANDSTOP2 Filters input x and returns output y.

% MATLAB Code
% Generated by MATLAB(R) 8.4 and the DSP System Toolbox 8.7.
% Generated on: 27-Apr-2015 15:15:41

%#codegen

% To generate C/C++ code from this function use the codegen command. Type
% 'help codegen' for more information.

persistent Hd;

if isempty(Hd)
    
    % The following code was used to design the filter coefficients:
    % % Equiripple Bandstop filter designed using the FIRPM function.
    %
    % % All frequency values are normalized to 1.
    %
    % Fpass1 = 0.325;           % First Passband Frequency
    % Fstop1 = 0.35;            % First Stopband Frequency
    % Fstop2 = 0.375;           % Second Stopband Frequency
    % Fpass2 = 0.4;             % Second Passband Frequency
    % Dpass1 = 0.028774368332;  % First Passband Ripple
    % Dstop  = 0.001;           % Stopband Attenuation
    % Dpass2 = 0.057501127785;  % Second Passband Ripple
    % dens   = 20;              % Density Factor
    %
    % % Calculate the order from the parameters using FIRPMORD.
    % [N, Fo, Ao, W] = firpmord([Fpass1 Fstop1 Fstop2 Fpass2], [1 0 1], ...
    %                           [Dpass1 Dstop Dpass2]);
    %
    % % Calculate the coefficients using the FIRPM function.
    % b  = firpm(N, Fo, Ao, W, {dens});
    
    Hd = dsp.FIRFilter( ...
        'Numerator', [0.00208175111466065 0.00958495437610697 ...
        -0.00705687464417779 0.00607436709627042 0.00168115172482163 ...
        -0.00359235202990619 -0.00303879883173905 0.00176068990421803 ...
        0.0037188021605047 0.000623987191242999 -0.00297610479938817 ...
        -0.00252630727384356 0.000927090460985164 0.0028494386705585 ...
        0.00119865018633598 -0.00153859181218269 -0.0020389432613971 ...
        -0.000201996072464065 0.00135454793015264 0.000974004203906275 ...
        -0.00025877857471697 -0.000551908643714248 3.03613946016142e-05 ...
        7.00490045313208e-05 -0.000671725482655931 -0.00068741549133781 ...
        0.000808551808815063 0.00204258823572208 0.000730969935745708 ...
        -0.00228940490305427 -0.00320306915952534 1.55779486869307e-05 ...
        0.00411500352236281 0.00377167568215282 -0.00154579222165811 ...
        -0.00587082487290046 -0.0034600175294656 0.00362131342398164 ...
        0.00706909052929357 0.00218826309054687 -0.00577399195763431 ...
        -0.00729930791219754 -0.000166767527862347 0.00740220425831907 ...
        0.00637858059778473 -0.00207988028054608 -0.00795532822584288 ...
        -0.00448636155626506 0.00383649824123058 0.0071279977255455 ...
        0.00217177923187347 -0.00438602441840867 -0.00500341944848084 ...
        -0.000267449713492368 0.00323265377564821 0.00213090205209227 ...
        -0.000295326915707896 -0.000302623393522042 0.000536824900640568 ...
        -0.00123758858020672 -0.00391216133878344 -0.0018419575825014 ...
        0.00516966648334123 0.00840048343928917 0.000727359624474951 ...
        -0.0111974022117494 -0.0118078331489663 0.00347489330802148 ...
        0.0183488296159384 0.0127067287210822 -0.0107684627522635 ...
        -0.0251372999608302 -0.0100260372061027 0.0203729661693676 ...
        0.0298500795010419 0.00328785772842951 -0.0308368649030647 ...
        -0.0309038585837982 0.00709921061828462 0.0402514992540347 ...
        0.0273176432868729 -0.0199237946140115 -0.046645230056185 ...
        -0.0189200019401748 0.033270566601619 0.048458034826444 ...
        0.00650274941764355 -0.0449457749738462 -0.0448795968317418 ...
        0.0082851071889948 0.0529143193653484 0.0360884110498319 ...
        -0.0232481991435089 0.944257624949055 -0.0232481991435089 ...
        0.0360884110498319 0.0529143193653484 0.0082851071889948 ...
        -0.0448795968317418 -0.0449457749738462 0.00650274941764355 ...
        0.048458034826444 0.033270566601619 -0.0189200019401748 ...
        -0.046645230056185 -0.0199237946140115 0.0273176432868729 ...
        0.0402514992540347 0.00709921061828462 -0.0309038585837982 ...
        -0.0308368649030647 0.00328785772842951 0.0298500795010419 ...
        0.0203729661693676 -0.0100260372061027 -0.0251372999608302 ...
        -0.0107684627522635 0.0127067287210822 0.0183488296159384 ...
        0.00347489330802148 -0.0118078331489663 -0.0111974022117494 ...
        0.000727359624474951 0.00840048343928917 0.00516966648334123 ...
        -0.0018419575825014 -0.00391216133878344 -0.00123758858020672 ...
        0.000536824900640568 -0.000302623393522042 -0.000295326915707896 ...
        0.00213090205209227 0.00323265377564821 -0.000267449713492368 ...
        -0.00500341944848084 -0.00438602441840867 0.00217177923187347 ...
        0.0071279977255455 0.00383649824123058 -0.00448636155626506 ...
        -0.00795532822584288 -0.00207988028054608 0.00637858059778473 ...
        0.00740220425831907 -0.000166767527862347 -0.00729930791219754 ...
        -0.00577399195763431 0.00218826309054687 0.00706909052929357 ...
        0.00362131342398164 -0.0034600175294656 -0.00587082487290046 ...
        -0.00154579222165811 0.00377167568215282 0.00411500352236281 ...
        1.55779486869307e-05 -0.00320306915952534 -0.00228940490305427 ...
        0.000730969935745708 0.00204258823572208 0.000808551808815063 ...
        -0.00068741549133781 -0.000671725482655931 7.00490045313208e-05 ...
        3.03613946016142e-05 -0.000551908643714248 -0.00025877857471697 ...
        0.000974004203906275 0.00135454793015264 -0.000201996072464065 ...
        -0.0020389432613971 -0.00153859181218269 0.00119865018633598 ...
        0.0028494386705585 0.000927090460985164 -0.00252630727384356 ...
        -0.00297610479938817 0.000623987191242999 0.0037188021605047 ...
        0.00176068990421803 -0.00303879883173905 -0.00359235202990619 ...
        0.00168115172482163 0.00607436709627042 -0.00705687464417779 ...
        0.00958495437610697 0.00208175111466065]);
end

y = step(Hd,x);


% [EOF]
